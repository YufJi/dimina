var service=function(){"use strict";var e,t,n,o,i,s,r,a,c,l,u,d,h,p=Object.defineProperty,f=e=>{throw TypeError(e)},g=(e,t,n)=>((e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),_=(e,t,n)=>t.has(e)||f("Cannot "+n),y=(e,t,n)=>(_(e,t,"read from private field"),n?n.call(e):t.get(e)),m=(e,t,n)=>t.has(e)?f("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),b=(e,t,n,o)=>(_(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n),v=(e,t,n)=>(_(e,t,"access private method"),n);const S=e=>{const t=typeof e;return null!==e&&("object"===t||"function"===t)},I=new Set(["__proto__","prototype","constructor"]),j=new Set("0123456789");function w(e){const t=[];let n="",o="start",i=!1;for(const s of e)switch(s){case"\\":if("index"===o)throw new Error("Invalid character in an index");if("indexEnd"===o)throw new Error("Invalid character after an index");i&&(n+=s),o="property",i=!i;break;case".":if("index"===o)throw new Error("Invalid character in an index");if("indexEnd"===o){o="property";break}if(i){i=!1,n+=s;break}if(I.has(n))return[];t.push(n),n="",o="property";break;case"[":if("index"===o)throw new Error("Invalid character in an index");if("indexEnd"===o){o="index";break}if(i){i=!1,n+=s;break}if("property"===o){if(I.has(n))return[];t.push(n),n=""}o="index";break;case"]":if("index"===o){t.push(Number.parseInt(n,10)),n="",o="indexEnd";break}if("indexEnd"===o)throw new Error("Invalid character after an index");default:if("index"===o&&!j.has(s))throw new Error("Invalid character in an index");if("indexEnd"===o)throw new Error("Invalid character after an index");"start"===o&&(o="property"),i&&(i=!1,n+="\\"),n+=s}switch(i&&(n+="\\"),o){case"property":if(I.has(n))return[];t.push(n);break;case"index":throw new Error("Index was not closed");case"start":t.push("")}return t}function O(e,t){if("number"!=typeof t&&Array.isArray(e)){const n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}function M(e,t){if(O(e,t))throw new Error("Cannot use string index")}function C(e){return"function"==typeof e}function T(e){return"number"==typeof e&&Number.isFinite(e)&&!Number.isNaN(e)}function k(e,t){return function(e,t,n){if(!S(e)||"string"!=typeof t)return void 0===n?e:n;const o=w(t);if(0===o.length)return n;for(let i=0;i<o.length;i++){const t=o[i];if(null==(e=O(e,t)?i===o.length-1?void 0:null:e[t])){if(i!==o.length-1)return n;break}}return void 0===e?n:e}(e,t)}function x(e,t,n){!function(e,t,n){if(!S(e)||"string"!=typeof t)return e;const o=e,i=w(t);for(let s=0;s<i.length;s++){const t=i[s];M(e,t),s===i.length-1?e[t]=n:S(e[t])||(e[t]="number"==typeof i[s+1]?[]:{}),e=e[t]}}(e,t,n)}function A(){return Math.random().toString(36).slice(2,7)}const P="undefined"!=typeof WorkerGlobalScope&&globalThis instanceof WorkerGlobalScope;function E(e,t){const n=e.split("/").slice(0,-1).join("/"),o=t.split("?"),i=o[0],s=o[1];let r=function(e,t){if(t.startsWith("/"))return t.slice(1);const n=e.split("/"),o=t.split("/");for(const i of o){const e=i;".."===e?n.length>0&&n.pop():"."!==e&&""!==e&&n.push(e)}return n.join("/")}(n,i);return s&&(r+=`?${s}`),r}function B(e){if(null===e||"object"!=typeof e)return e;const t=new WeakMap;return function e(n){if(null===n||"object"!=typeof n)return n;if(n instanceof Date)return new Date(n);if(n instanceof RegExp)return new RegExp(n.source,n.flags);if(Array.isArray(n)){if(t.has(n))return t.get(n);const o=[];return t.set(n,o),o.push(...n.map(e)),o}if(t.has(n))return t.get(n);const o=Object.create(Object.getPrototypeOf(n));return t.set(n,o),Object.assign(o,...Object.keys(n).map((t=>({[t]:e(n[t])}))))}(e)}const L={};function R(e,t){L[e]||(L[e]={factory:t,status:1,exports:void 0})}const z=function(e,t,n){if("string"!=typeof e)throw new TypeError("require args must be a string");const o=L[e];if(!o)throw new Error(`module ${e} not found`);if(1===o.status){o.status=2;const t={exports:{}};let s;try{o.factory&&(s=o.factory.call(null,z,t,t.exports))}catch(i){o.status=1;i.name,i.message,i.stack;C(n)&&n({mod:e,errMsg:i.message})}o.exports=void 0===t.exports?s:t.exports}return C(t)&&t(o.exports),o.exports};z.async=async e=>new Promise(((t,n)=>{try{t(z(e))}catch(o){n(new Error(`${o.message}: Failed to initialize asynchronous loading for module '${e}'`))}}));const D=new class{constructor(){this.callbacks={}}store(e,t){if(t)for(const[o,i]of Object.entries(this.callbacks))if(i.callback===e)return o;const n=A();return this.callbacks[n]={callback:e,keep:t},n}invoke(e,t){if(void 0===e)return;const n=this.callbacks[e];n&&C(n.callback)&&(n.callback(t),n.keep||delete this.callbacks[e])}remove(e){e?Object.keys(this.callbacks).forEach((t=>{e===t&&delete this.callbacks[t]})):Object.entries(this.callbacks).forEach((([e,t])=>{t.keep&&delete this.callbacks[e]}))}};e=new WeakMap,t=new WeakMap;const U=new class{constructor(){m(this,e,[]),m(this,t,"")}setInitId(e){b(this,t,e)}push(e,t){const{id:n,query:o,path:i}=e;this.stack(t).push({id:n,query:o,route:i})}pop(){this.stack().length>0&&this.stack().pop()}getPageInfo(){return this.stack().at(-1)||{id:y(this,t)}}pushStack(t){const n={id:t,pages:[]};return y(this,e).push(n),n}popStack(t){if(t){const n=y(this,e).findIndex((e=>e.id===t));-1!==n&&y(this,e).splice(n,1)}else y(this,e).length>0&&y(this,e).pop()}stack(t){if(t){let n=y(this,e).find((e=>e.id===t));return n||(n=this.pushStack(t)),n.pages}{const t=y(this,e).at(-1);return t?t.pages:this.pushStack(Date.now()).pages}}};class F{constructor(){var e;this.event={all:e=e||new Map,on:function(t,n){var o=e.get(t);o?o.push(n):e.set(t,[n])},off:function(t,n){var o=e.get(t);o&&(n?o.splice(o.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var o=e.get(t);o&&o.slice().map((function(e){e(n)})),(o=e.get("*"))&&o.slice().map((function(e){e(t,n)}))}},this.init()}init(){P?globalThis.onmessage=e=>{this.handleMsg(e.data)}:DiminaServiceBridge.onMessage=this.handleMsg.bind(this)}handleMsg(e){const{type:t,body:n}=e;this.event.emit(t,n)}on(e,t){this.event.on(e,t)}off(e){this.event.off(e)}send(e){return F.prototype.send=P?function(e){e.method="publish",globalThis.postMessage(e)}:function(e){return DiminaServiceBridge.publish(e.body.bridgeId||"",e)},this.send(e)}invoke(e){return F.prototype.invoke=P?function(e){e.method="invoke",globalThis.postMessage(e)}:function(e){return DiminaServiceBridge.invoke(e)},this.invoke(e)}}const N=new F;function W(e,t,n="container"){let o;if(void 0===t||"string"==typeof t||Array.isArray(t))o=t;else if(C(t))o={success:D.store(t,!0)};else{const{success:e,fail:n,complete:i,keep:s,...r}=t;o=r,C(e)?o.success=D.store(e,s):o.success=e,C(n)&&(o.fail=D.store(n,s)),C(i)&&(o.complete=D.store(i,s))}const i={type:"invokeAPI",target:n,body:{name:e,bridgeId:U.getPageInfo().id,params:o}};return"container"===n?N.invoke(i):N.send(i)}const H=Object.freeze(Object.defineProperty({__proto__:null,offAppHide:function(e){W("offAppHide",e)},offAppShow:function(e){W("offAppShow",e)},offError:function(e){W("offError",e)},onAppHide:function(e){W("onAppHide",e)},onAppRoute:function(){},onAppShow:function(e){W("onAppShow",e)},onError:function(e){W("onError",e)},onPageNotFound:function(){},onUnhandledRejection:function(){}},Symbol.toStringTag,{value:"Module"}));const Q=Object.freeze(Object.defineProperty({__proto__:null,canIUse:function(e){return"getUpdateManager"===e||"getPerformance"===e||W("canIUse",e)},env:function(){return{USER_DATA_PATH:"difile://"}}},Symbol.toStringTag,{value:"Module"}));const q=class e{constructor(){if(y(e,n))throw new Error("Cannot instantiate more than one Performance instance.");this.entryList=new V,b(e,n,this)}static getInstance(){return y(e,n)||b(e,n,new e),y(e,n)}createObserver(e){const t=new X(e);if(e){W("addPerformanceObserver",{success:D.store((e=>{var n,o;const i=(null==(n=null==e?void 0:e.data)?void 0:n.entryList)&&JSON.parse(null==(o=null==e?void 0:e.data)?void 0:o.entryList)||[];i&&(this.entryList.push(i),t.notify(i))}),!0)},"render")}return t}getEntries(){return this.entryList.getEntries()}getEntriesByName(e,t){return this.entryList.getEntriesByName(e,t)}getEntriesByType(e){return this.entryList.getEntriesByType(e)}setBufferSize(e){this.entryList.maxEntrySize=e}};n=new WeakMap,m(q,n,null);let $=q;class V{constructor(){this._list=[],this.maxEntrySize=30}push(e){for(const t of e)this._list.length>=this.maxEntrySize&&this._list.shift(),this._list.push(t)}getEntriesByName(e,t){return this._entryFilter(e,t)}getEntriesByType(e){return this._entryFilter(null,e)}_entryFilter(e,t){return this._list.filter((n=>(!e||e===n.name)&&(!t||t===n.entryType)))}getEntries(){return this._list}}class X{constructor(e){this.entryTypes=[],this.callback=e}observe(e){this.connected=!0,this.entryTypes=e.entryTypes}notify(e){if(this.connected){const t=new V;t.push(e.filter((e=>{let t=!1;return this.entryTypes&&this.entryTypes.length>0&&this.entryTypes.forEach((n=>{e.entryType===n&&(t=!0)})),t}))),this.callback(t)}}disconnect(){this.connected=!1}}const Y=Object.freeze(Object.defineProperty({__proto__:null,getPerformance:function(){return $.getInstance()}},Symbol.toStringTag,{value:"Module"}));const Z=Object.freeze(Object.defineProperty({__proto__:null,loadSubpackage:function(e){W("loadSubpackage",e)},preDownloadSubpackage:function(e){W("preDownloadSubpackage",e)}},Symbol.toStringTag,{value:"Module"}));const G=Object.freeze(Object.defineProperty({__proto__:null,getSystemInfo:function(e){return new Promise((t=>{t(W("getSystemInfo",e))}))},getSystemInfoAsync:function(e){W("getSystemInfoAsync",e)},getSystemInfoSync:function(){return W("getSystemInfoSync")},getWindowInfo:function(e){return W("getWindowInfo",e)},openAppAuthorizeSetting:function(e){W("openAppAuthorizeSetting",e)},openSystemBluetoothSetting:function(e){W("openSystemBluetoothSetting",e)}},Symbol.toStringTag,{value:"Module"}));const K=class e{constructor(){if(y(e,o))throw new Error("Cannot instantiate more than one UpdateManager instance.");this.hasApplyUpdate=!1,this.updateFailFlag=null,this.updateFailCbQueue=[],this.updateReadyCbQueue=[],this.updateReadyStatus=null,this.updateReadyFlag=!1,this.updateStatus=null,this.updateStatusCbQueue=[],N.on("onUpdateStatusChange",(e=>{const{event:t,strategy:n}=e;"updatefail"===t?(this.updateFailFlag={},this.flashUpdateFailCb()):"updateready"===t?(this.updateReadyFlag=!0,this.updateReadyStatus={strategy:n},this.flushUpdateReadyCb()):"noupdate"===t?(this.updateStatus={hasUpdate:!0},this.flushUpdateStatusCb()):"updating"===t&&(this.updateStatus={hasUpdate:!1},this.flushUpdateStatusCb())})),b(e,o,this)}flashUpdateFailCb(){this.updateFailCbQueue.forEach((e=>{"function"==typeof e&&e()})),this.updateFailCbQueue.length=0}flushUpdateStatusCb(){this.updateStatusCbQueue.forEach((e=>{"function"==typeof e&&e(this.updateStatus)})),this.updateStatusCbQueue.length=0}flushUpdateReadyCb(){this.updateReadyCbQueue.forEach((e=>{"function"==typeof e&&e(this.updateReadyStatus)})),this.updateReadyCbQueue.length=0}static getInstance(){return y(e,o)||b(e,o,new e),y(e,o)}applyUpdate(){this.updateReadyFlag&&this.hasApplyUpdate||this.updateReadyFlag&&W("applyUpdate")}onCheckForUpdate(e){this.updateStatus?"function"==typeof e&&e(this.updateStatus):this.updateStatusCbQueue.push(e)}onUpdateFailed(e){this.updateFailFlag?"function"==typeof e&&e(this.updateFailFlag):this.updateFailCbQueue.push(e)}onUpdateReady(e){this.updateReadyFlag?"function"==typeof e&&e(this.updateReadyStatus):this.updateReadyCbQueue.push(e)}};o=new WeakMap,m(K,o,null);let J=K;const ee=Object.freeze(Object.defineProperty({__proto__:null,getUpdateManager:function(){return J.getInstance()}},Symbol.toStringTag,{value:"Module"}));class te{constructor(){this.bridgeId=U.getPageInfo().id}takePhoto(e){W("takePhoto",e)}startRecord(){W("startRecord")}stopRecord(){W("startRecord")}}const ne=Object.freeze(Object.defineProperty({__proto__:null,createCameraContext:function(){return new te}},Symbol.toStringTag,{value:"Module"}));const oe=Object.freeze(Object.defineProperty({__proto__:null,reportAnalytics:function(...e){W("reportAnalytics",e)},reportEvent:function(e,t){W("reportAnalytics",{eventId:e,data:t})}},Symbol.toStringTag,{value:"Module"}));const ie=Object.freeze(Object.defineProperty({__proto__:null,closeBLEConnection:function(e){W("closeBLEConnection",e)},createBLEConnection:function(e){W("createBLEConnection",e)},getBLEDeviceCharacteristics:function(e){W("getBLEDeviceCharacteristics",e)},getBLEDeviceRSSI:function(e){W("getBLEDeviceRSSI",e)},getBLEDeviceServices:function(e){W("getBLEDeviceServices",e)},notifyBLECharacteristicValueChange:function(e){W("notifyBLECharacteristicValueChange",e)},offBLECharacteristicValueChange:function(){W("offBLECharacteristicValueChange")},offBLEConnectionStateChange:function(e){W("offBLEConnectionStateChange",e)},onBLECharacteristicValueChange:function(e){W("onBLECharacteristicValueChange",e)},onBLEConnectionStateChange:function(e){W("onBLEConnectionStateChange",e)},readBLECharacteristicValue:function(e){W("readBLECharacteristicValue",e)},setBLEMTU:function(e){W("setBLEMTU",e)},writeBLECharacteristicValue:function(e){W("writeBLECharacteristicValue",e)}},Symbol.toStringTag,{value:"Module"}));const se=Object.freeze(Object.defineProperty({__proto__:null,closeBluetoothAdapter:function(e){W("closeBluetoothAdapter",e)},getBluetoothAdapterState:function(e){W("getBluetoothAdapterState",e)},getBluetoothDevices:function(e){W("getBluetoothDevices",e)},getConnectedBluetoothDevices:function(e){W("getConnectedBluetoothDevices",e)},offBluetoothAdapterStateChange:function(){W("offBluetoothAdapterStateChange")},offBluetoothDeviceFound:function(){W("offBluetoothDeviceFound")},onBluetoothAdapterStateChange:function(e){W("onBluetoothAdapterStateChange",e)},onBluetoothDeviceFound:function(e){W("onBluetoothDeviceFound",e)},openBluetoothAdapter:function(e){W("openBluetoothAdapter",e)},startBluetoothDevicesDiscovery:function(e){W("startBluetoothDevicesDiscovery",e)},stopBluetoothDevicesDiscovery:function(e){W("stopBluetoothDevicesDiscovery",e)}},Symbol.toStringTag,{value:"Module"}));const re=Object.freeze(Object.defineProperty({__proto__:null,getClipboardData:function(e){W("getClipboardData",e)},setClipboardData:function(e){W("setClipboardData",e)}},Symbol.toStringTag,{value:"Module"}));const ae=Object.freeze(Object.defineProperty({__proto__:null,addPhoneContact:function(e){W("addPhoneContact",e)},chooseContact:function(e){W("chooseContact",e)}},Symbol.toStringTag,{value:"Module"}));const ce=Object.freeze(Object.defineProperty({__proto__:null,hideKeyboard:function(e){W("hideKeyboard",e)}},Symbol.toStringTag,{value:"Module"}));const le=Object.freeze(Object.defineProperty({__proto__:null,offMemoryWarning:function(e){W("offMemoryWarning",e)},onMemoryWarning:function(e){W("onMemoryWarning",e)}},Symbol.toStringTag,{value:"Module"}));const ue=Object.freeze(Object.defineProperty({__proto__:null,getNetworkType:function(e){W("getNetworkType",e)}},Symbol.toStringTag,{value:"Module"}));const de=Object.freeze(Object.defineProperty({__proto__:null,makePhoneCall:function(e){W("makePhoneCall",e)}},Symbol.toStringTag,{value:"Module"}));const he=Object.freeze(Object.defineProperty({__proto__:null,scanCode:function(e){W("scanCode",e)}},Symbol.toStringTag,{value:"Module"}));const pe=Object.freeze(Object.defineProperty({__proto__:null,vibrateLong:function(e){W("vibrateLong",e)},vibrateShort:function(e){W("vibrateShort",e)}},Symbol.toStringTag,{value:"Module"}));const fe=Object.freeze(Object.defineProperty({__proto__:null,extBridge:function({event:e,module:t,data:n={},success:o,fail:i,complete:s},r){let a,c,l;C(r)?(a=r,c=r):(a=o,c=i,l=s),W(e,{module:t,data:n,keep:n.isSustain??!0,success:a,fail:c,complete:l})},extOffBridge:function({event:e,module:t,callBack:n}){if(!t||"DMServiceBridgeModule"===t)return;if(!e)return;W(`${t}_${e}`,{success:n})},extOnBridge:function({event:e,module:t,callBack:n,isSustain:o=!0}){if(!t||"DMServiceBridgeModule"===t)return;if(!e)return;if(!n)return;W(`${t}_${e}`,{keep:o,success:n})},offLoginStatusChanged:function(){N.off("notifyLoginStatusChanged")},onLoginStatusChanged:function(e){N.on("notifyLoginStatusChanged",(t=>{null==e||e(t)}))}},Symbol.toStringTag,{value:"Module"})),ge=["onLaunch","onShow","onHide"];class _e{constructor(e,t){this.appModule=e,this.options=t,this.init()}init(){this.initLifecycle(),this.initCustomMethods(),this.invokeSomeLifecycle()}initLifecycle(){ge.forEach((e=>{const t=this.appModule.moduleInfo[e];C(t)&&(this[e]=t.bind(this))}))}initCustomMethods(){const e=this.appModule.moduleInfo;for(const t in e)!ge.includes(t)&&C(e[t])&&(this[t]=e[t].bind(this))}invokeSomeLifecycle(){var e,t;null==(e=this.onLaunch)||e.call(this,this.options),null==(t=this.onShow)||t.call(this,this.options)}appShow(){var e;null==(e=this.onShow)||e.call(this,this.options)}appHide(){var e;null==(e=this.onHide)||e.call(this)}}function ye(e){var t,n;(null==(n=null==(t=e.__mpxProxy)?void 0:t.options)?void 0:n.computed)&&Object.keys(e.__mpxProxy.options.computed).forEach((t=>{"_l"!==t&&"_fl"!==t&&(Object.prototype.hasOwnProperty.call(e.data,t)||(e.data[t]=null))}))}function me(e){return null==e?e:Object.entries(e).reduce(((e,[t,n])=>(t.startsWith("$")||t.startsWith("_l")||C(n)||(Array.isArray(n)?e[t]=n.map((e=>"object"==typeof e?me(e):e)):n&&"object"==typeof n&&!Array.isArray(n)?e[t]=me(n):e[t]=n),e)),{})}const be=new Map([[String,"s"],[Number,"n"],[Boolean,"b"],[Object,"o"],[Array,"a"],[Function,"f"]]);function ve(e){if(Array.isArray(e))return e.map((e=>ve(e)));{if(null===e||""===e)return null;const t=be.get(e);return t||null}}function Se(e,t,n,o){for(const i in t){const s=t[i],r=i.split(",").map((e=>e.trim()));if(r.includes(e)){const e=r.map((e=>k(n,e)));s.call(o,...e);continue}if("**"===i){s.call(o,n);continue}const a=i.split("."),c=e.split(".");let l=!0;for(let e=0;e<a.length&&("**"!==a[e]&&void 0!==c[e]);e++)if(a[e]!==c[e]){l=!1;break}if(l){let e=n;for(const t of a)"**"!==t&&(e=e[t]);s.call(o,e);continue}const u=i.match(/^(.+)\[(\d+)\]$/);if(u){const t=u[1],i=Number.parseInt(u[2],10);if(t===e.split("[")[0]&&n[t]&&void 0!==n[t][i]){s.call(o,n[t][i]);continue}}if(e.startsWith(i)){const e=i.split(".").reduce(((e,t)=>e&&e[t]),n);if(void 0!==e){s.call(o,e);continue}}}}function Ie(e,t){if(!Array.isArray(t))return;const n=new WeakMap;function o(e,t){if(n.has(t))return;n.set(t,!0),t.properties&&(e.properties={...t.properties,...e.properties}),t.data&&(e.data={...t.data,...e.data});const i=["created","attached","ready","detached"];e.behaviorLifetimes=e.behaviorLifetimes||{};for(const n of i)C(t[n])&&(e.behaviorLifetimes[n]=e.behaviorLifetimes[n]||[],e.behaviorLifetimes[n].push(t[n]));t.methods&&(e.methods={...t.methods,...e.methods}),Array.isArray(t.behaviors)&&t.behaviors.forEach((t=>o(e,t)))}t.forEach((t=>o(e,t)))}function je(e,t,n){let o=e;for(;o&&o.__parentId__;){if(o.__parentId__===t)return!0;o=n.find((e=>e.__id__===o.__parentId__))}return!1}function we(e,t){var n;const o=e.slice(1);return e.startsWith(".")?(null==(n=t.__targetInfo__)?void 0:n.class)&&t.__targetInfo__.class.split(" ").includes(o):!!e.startsWith("#")&&t.id===o}class Oe{constructor(e,t){m(this,i),this.initd=!1,this.opts=t,this.is=t.path,this.bridgeId=t.bridgeId,this.data=B(e.noReferenceData),this.__type__=e.type,this.__id__=t.moduleId,this.__info__=e.moduleInfo,v(this,i,s).call(this)}setData(e){const t=me(e);for(const n in t)x(this.data,n,t[n]);this.initd&&N.send({type:"u",target:"render",body:{bridgeId:this.bridgeId,moduleId:this.__id__,data:t}})}pageShow(){var e;null==(e=this.onShow)||e.call(this)}pageHide(){var e;null==(e=this.onHide)||e.call(this)}pageReady(){var e;null==(e=this.onReady)||e.call(this)}pageUnload(){var e;null==(e=this.onUnload)||e.call(this),this.initd=!1}pageScrollTop(e){var t;const{scrollTop:n}=e;null==(t=this.onPageScroll)||t.call(this,{scrollTop:n})}}function Me(){return new Ce}i=new WeakSet,s=function(){v(this,i,r).call(this),v(this,i,a).call(this).then((()=>{ye(this),N.send({type:this.__id__,target:"render",body:{bridgeId:this.bridgeId,path:this.is,data:this.data}})}))},r=function(){for(const e in this.__info__){const t=this.__info__[e];C(t)?this[e]=t.bind(this):this[e]=t}},a=async function(){var e;await(null==(e=this.onLoad)?void 0:e.call(this,this.opts.query||{})),this.initd=!0};class Ce{constructor(){this.__componentId=U.getPageInfo().id,this.__taskQueue=[],this.__cbQueue=[]}in(e){return this.__componentId=e.__id__,this}select(e){return new Te(this,this.__componentId,e,!0)}selectAll(e){return new Te(this,this.__componentId,e,!1)}selectViewport(){return new Te(this,U.getPageInfo().id,"",!0)}__push(e,t,n,o,i){this.__taskQueue.push({moduleId:t,selector:e,single:n,fields:o}),this.__cbQueue.push(i)}exec(e){const t=this;W("selectorQuery",{tasks:this.__taskQueue,success:n=>{n.forEach(((e,n)=>{const o=t.__cbQueue[n];C(o)&&o.call(t,e)})),C(e)&&e.call(t,n)}},"render")}}class Te{constructor(e,t,n,o){this.__selectorQuery=e,this.__moduleId=t,this.__selector=n,this.__single=o}fields(e,t){return this.__selectorQuery.__push(this.__selector,this.__moduleId,this.__single,e,t),this.__selectorQuery}boundingClientRect(e){return this.fields({id:!0,dataset:!0,rect:!0,size:!0},e)}context(e){return this.fields({context:!0},e)}node(e){return this.fields({node:!0},e)}scrollOffset(e){return this.fields({id:!0,dataset:!0,scrollOffset:!0},e)}}const ke=Object.freeze(Object.defineProperty({__proto__:null,createSelectorQuery:Me},Symbol.toStringTag,{value:"Module"})),xe=["created","attached","ready","moved","detached","error"],Ae=["show","hide","resize","routeDone"];class Pe{constructor(e,t){m(this,c),this.initd=!1,this.opts=t,t.targetInfo&&(this.id=t.targetInfo.id,this.dataset=t.targetInfo.dataset,this.__targetInfo__=t.targetInfo),this.is=t.path,this.renderer="webview",this.bridgeId=t.bridgeId,this.behaviors=e.behaviors,this.data=B(e.noReferenceData),this.__isComponent__=e.isComponent,this.__type__=e.type,this.__id__=this.opts.moduleId,this.__info__=e.moduleInfo,this.__eventAttr__=t.eventAttr,this.__pageId__=t.pageId,this.__parentId__=t.parentId,v(this,c,l).call(this)}setData(e){const t=me(e);for(const n in t)x(this.data,n,t[n]);this.initd&&N.send({type:"u",target:"render",body:{bridgeId:this.bridgeId,moduleId:this.__id__,data:t}})}tO(e){var t,n;for(const[o,i]of Object.entries(e)){this.__info__.observers&&Se(o,this.__info__.observers,e,this);const s=null==(t=this.__info__.properties[o])?void 0:t.observer;"string"==typeof s?null==(n=this[s])||n.call(this,i):C(s)&&s.call(this,i)}}getPageId(){return this.__id__}hasBehavior(e){const t=function(n){if(n.includes(e))return!0;for(const e of n)if(t(e.behaviors))return!0;return!1};return t(this.behaviors)}createSelectorQuery(){return Me().in(this)}selectComponent(e){const t=Object.values(Ue.instances[this.bridgeId]);return t.find((n=>je(n,this.__id__,t)&&we(e,n)))||null}selectAllComponents(e){const t=Object.values(Ue.instances[this.bridgeId]);return t.filter((n=>je(n,this.__id__,t)&&we(e,n)))}selectOwnerComponent(){const e=Object.values(Ue.instances[this.bridgeId]);for(const t of e)if(t.id===this.__parentId__)return t;return null}createIntersectionObserver(){}createMediaQueryObserver(){}getRelationNodes(){}animate(){}clearAnimation(){}async triggerEvent(e,t,n={}){const o=e.trim();if(await Ue.triggerEvent({bridgeId:this.bridgeId,moduleId:this.__pageId__,methodName:this.__eventAttr__[o],event:{type:o,detail:t,currentTarget:{id:this.id,dataset:this.dataset},target:{id:this.id,dataset:this.dataset}}}),n.bubbles){const n=Ue.instances[this.bridgeId][this.__parentId__];await(null==n?void 0:n.triggerEvent(e,t))}n.composed,n.capturePhase}pageReady(){var e;this.__isComponent__||null==(e=this.ready)||e.call(this)}pageUnload(){var e;this.__isComponent__||null==(e=this.onUnload)||e.call(this)}pageScrollTop(e){var t;if(!this.__isComponent__){const{scrollTop:n}=e;null==(t=this.onPageScroll)||t.call(this,{scrollTop:n})}}pageShow(){var e;null==(e=this.onShow)||e.call(this)}pageHide(){var e;null==(e=this.onHide)||e.call(this)}pageResize(e){var t;null==(t=this.resize)||t.call(this,e)}componentRouteDone(){var e;null==(e=this.routeDone)||e.call(this)}async componentCreated(){var e,t,n;null==(t=null==(e=this.__info__.behaviorLifetimes)?void 0:e.created)||t.forEach((e=>e.call(this))),await(null==(n=this.created)?void 0:n.call(this))}async componentAttached(){var e,t,n;null==(t=null==(e=this.__info__.behaviorLifetimes)?void 0:e.attached)||t.forEach((e=>e.call(this))),await(null==(n=this.attached)?void 0:n.call(this))}componentReadied(){var e,t,n;null==(t=null==(e=this.__info__.behaviorLifetimes)?void 0:e.ready)||t.forEach((e=>e.call(this))),null==(n=this.ready)||n.call(this)}componentMoved(){var e;null==(e=this.moved)||e.call(this)}componentDetached(){var e,t,n;null==(t=null==(e=this.__info__.behaviorLifetimes)?void 0:e.detached)||t.forEach((e=>e.call(this))),null==(n=this.detached)||n.call(this),this.initd=!1}componentError(e){var t;null==(t=this.error)||t.call(this,e)}}c=new WeakSet,l=function(){if(this.__isComponent__)for(const e in this.__info__.properties)Object.prototype.hasOwnProperty.call(this.opts.properties,e)&&void 0!==this.opts.properties[e]?this.data[e]=this.opts.properties[e]:this.data[e]=this.__info__.properties[e].value;v(this,c,u).call(this),v(this,c,d).call(this),v(this,c,h).call(this).then((()=>{ye(this),N.send({type:this.__id__,target:"render",body:{bridgeId:this.bridgeId,path:this.is,data:this.data}})}))},u=function(){xe.forEach((e=>{var t;const n=(null==(t=this.__info__.lifetimes)?void 0:t[e])||this.__info__[e];C(n)&&(this[e]=n.bind(this))})),this.__isComponent__&&Ae.forEach((e=>{var t;const n=null==(t=this.__info__.pageLifetimes)?void 0:t[e];C(n)&&("show"===e?e="onShow":"hide"===e&&(e="onHide"),this[e]=n.bind(this))}))},d=function(){const e=this.__info__.methods;for(const t in e)C(e[t])&&(this[t]=e[t].bind(this))},h=async function(){var e;this.__isComponent__?(await this.componentCreated(),await this.componentAttached()):(await this.componentCreated(),await this.componentAttached(),await(null==(e=this.onLoad)?void 0:e.call(this,this.opts.query||{}))),this.initd=!0};const Ee=class e{constructor(t,n){this.moduleInfo=t,this.extraInfo=n,this.type=e.type,this.isComponent=this.extraInfo.component,this.behaviors=this.moduleInfo.behaviors,this.usingComponents=this.extraInfo.usingComponents,this.noReferenceData=me(this.moduleInfo.data||{}),Ie(this.moduleInfo,this.behaviors)}getProps(){let e=function(e){if(e){const t={};for(const n in e){const o=e[n];t[n]=t[n]||{};const i=Object.prototype.hasOwnProperty.call(o,"type")?ve(o.type):ve(o);let s=null;if(s=Array.isArray(i)?[...i]:[i],o.optionalTypes){const e=ve(o.optionalTypes);Array.isArray(e)?s=[...e]:s.push(e)}t[n].type=s,t[n].type.length>0&&(C(o.value)?t[n].default=o.value():o.type&&(t[n].default=o.value))}return t}}(this.moduleInfo.properties);if(Array.isArray(this.moduleInfo.externalClasses)&&this.moduleInfo.externalClasses.length>0){e||(e={});for(const t of this.moduleInfo.externalClasses)e[t]={type:["s"],cls:!0}}return e}};g(Ee,"type","component");let Be=Ee;const Le=class e{constructor(t,n){this.moduleInfo=t,this.extraInfo=n,this.type=e.type,this.usingComponents=this.extraInfo.usingComponents,this.noReferenceData=me(this.moduleInfo.data||{})}};g(Le,"type","page");let Re=Le;class ze{constructor(e){this.moduleInfo=e}}g(ze,"type","app");const De=new class{constructor(){this.staticModules={}}loadResource(e){const{appId:t,bridgeId:n,pagePath:o,root:i}=e;if(P&&(this.isScriptLoaded=this.isScriptLoaded||{},!this.isScriptLoaded[i])){const e=`/${t}/${i}/logic.js`;globalThis.importScripts(e),this.isScriptLoaded[i]=!0}U.setInitId(n),z("app"),z(o),N.invoke({type:"serviceResourceLoaded",target:"service",body:{bridgeId:n}})}createAppModule(e){const t=new ze(e);this.staticModules[ze.type]=t}createModule(e,t,n){const{path:o,usingComponents:i}=t;if(!this.staticModules[o]){if(i)for(const e of Object.values(i))z(e);if(n===Re.type){const n=new Re(e,t);this.staticModules[o]=n}else if(n===Be.type){const n=new Be(e,t);this.staticModules[o]=n}}}getPropsByPath(e){const t={};return this.getComponentProps(t,e),t}getComponentProps(e,t){if(t)for(const n of Object.values(t)){const t=this.staticModules[n];t&&(e[n]=t.getProps(),this.getComponentProps(e,t.usingComponents))}}getAppModule(){return this.staticModules[ze.type]}getModuleByPath(e){return this.staticModules[e]}};const Ue=new class{constructor(){this.app=null,this.instances={}}createApp(e){if(this.app)return;const{scene:t,pagePath:n,query:o}=e,i=De.getAppModule();i&&(this.app=new _e(i,{scene:t,path:n,query:o}))}appShow(){var e;null==(e=this.app)||e.appShow()}appHide(){var e;null==(e=this.app)||e.appHide()}stackShow(e){U.pushStack(e)}stackHide(e){U.popStack(e)}createInstance(e){const{bridgeId:t,moduleId:n,path:o,query:i,eventAttr:s,pageId:r,parentId:a,properties:c,targetInfo:l,stackId:u}=e,d=De.getModuleByPath(o);if(d){if(this.instances[t]=this.instances[t]||{},d.type===Be.type){d.isComponent||U.push({id:t,path:o,query:i},u);const e=new Pe(d,{bridgeId:t,moduleId:n,path:o,query:i,eventAttr:s,pageId:r,parentId:a,properties:c,targetInfo:l});return this.instances[t][n]=e,e}if(d.type===Re.type){U.push({id:t,path:o,query:i},u);const e=new Oe(d,{bridgeId:t,moduleId:n,path:o,query:i});return this.instances[t][n]=e,e}}}moduleAttached(e){const{bridgeId:t,moduleId:n}=e,o=this.instances[t][n];o&&o.__type__===Be.type&&o.componentAttached()}moduleReady(e){const{bridgeId:t,moduleId:n}=e,o=this.instances[t][n];o&&o.__type__===Be.type&&o.componentReadied()}moduleUnmounted(e){const{bridgeId:t,moduleId:n}=e,o=this.instances[t][n];o&&(o.__type__===Be.type&&o.componentDetached(),delete this.instances[t][n])}pageShow(e){const{bridgeId:t}=e,n=this.instances[t];if(!n)return;const o=[];Object.values(n).forEach((e=>{e&&(e.__type__===Re.type?o.push(e):e.__type__===Be.type&&(e.__isComponent__?e.pageShow():o.push(e)))})),o.forEach((e=>{e.pageShow()}))}pageReady(e){const{bridgeId:t,moduleId:n}=e,o=this.instances[t][n];o&&(this.pageShow(e),o.pageReady())}pageHide(e){const{bridgeId:t}=e,n=this.instances[t],o=[];Object.values(n).forEach((e=>{e&&(e.__type__===Re.type?o.push(e):e.__type__===Be.type&&(e.__isComponent__?e.pageHide():o.push(e)))})),o.forEach((e=>{e&&e.pageHide()}))}pageUnload(e){const{bridgeId:t}=e,n=this.instances[t];n&&(Object.values(n).forEach((e=>{e&&(e.__type__===Be.type&&e.componentDetached(),e.pageUnload())})),U.pop(),delete this.instances[t])}pageScroll(e){const{bridgeId:t,moduleId:n,scrollTop:o}=e,i=this.instances[t][n];i&&i.pageScrollTop({scrollTop:o})}pageResize(e){const{bridgeId:t,moduleId:n}=e,o=this.instances[t][n];o&&o.pageResize()}componentError(e){const{bridgeId:t,moduleId:n}=e,o=this.instances[t][n];o&&o.__type__===Be.type&&o.componentError()}componentRouteDone(e){const{bridgeId:t,moduleId:n}=e,o=this.instances[t][n];o&&o.__type__===Be.type&&o.componentRouteDone()}async triggerEvent(e){const{bridgeId:t,moduleId:n,methodName:o,event:i}=e;if(void 0===o)return;const s=this.instances[t];if(!s)return;const r=s[n];return r&&C(r[o])?await r[o](i):void 0}};const Fe=Object.freeze(Object.defineProperty({__proto__:null,getEnterOptionsSync:function(){var e;return null==(e=Ue.app)?void 0:e.options},getLaunchOptionsSync:function(){var e;return null==(e=Ue.app)?void 0:e.options}},Symbol.toStringTag,{value:"Module"}));const Ne=Object.freeze(Object.defineProperty({__proto__:null,getLocation:function(e){W("getLocation",e)},offLocationChange:function(e){if(e){const t=D.store(e,!0);W("offLocationChange",{success:t}),D.remove(t)}else W("offLocationChange"),D.remove()},onLocationChange:function(e){if(e){W("onLocationChange",{success:D.store(e,!0)})}},openLocation:function(e){W("openLocation",e)},startLocationUpdate:function(e){W("startLocationUpdate",e)},stopLocationUpdate:function(e){W("stopLocationUpdate",e)}},Symbol.toStringTag,{value:"Module"}));class We{constructor(e){this.opts=e}addMarkers(e){W("addMarkers",e)}removeMarkers(e){W("removeMarkers",e)}includePoints(e){W("includePoints",e)}setCenterOffset(e){W("setCenterOffset",e)}getCenterLocation(e){W("getCenterLocation",e)}getScale(e){W("getScale",e)}moveToLocation(e){W("moveToLocation",e)}translateMarker(e){W("translateMarker",e)}addArc(e){W("addArc",e)}removeArc(e){W("removeArc",e)}}const He=Object.freeze(Object.defineProperty({__proto__:null,createMapContext:function(e,t){return new We({mapId:e,obj:t})}},Symbol.toStringTag,{value:"Module"}));const Qe=Object.freeze(Object.defineProperty({__proto__:null,chooseImage:function(e){W("chooseImage",e)},compressImage:function(e){W("compressImage",e)},previewImage:function(e){W("previewImage",e)},saveImageToPhotosAlbum:function(e){W("saveImageToPhotosAlbum",e)}},Symbol.toStringTag,{value:"Module"}));const qe=Object.freeze(Object.defineProperty({__proto__:null,chooseMedia:function(e){W("chooseMedia",e)},chooseVideo:function(e){W("chooseVideo",e)}},Symbol.toStringTag,{value:"Module"}));const $e=Object.freeze(Object.defineProperty({__proto__:null,exitMiniProgram:function(e){W("exitMiniProgram",e)},navigateBackMiniProgram:function(e){W("navigateBackMiniProgram",e)},navigateToMiniProgram:function(e){W("navigateToMiniProgram",e)},restartMiniProgram:function(e){W("restartMiniProgram",e)}},Symbol.toStringTag,{value:"Module"}));const Ve=Object.freeze(Object.defineProperty({__proto__:null,downloadFile:function(e){W("downloadFile",e)}},Symbol.toStringTag,{value:"Module"}));const Xe=Object.freeze(Object.defineProperty({__proto__:null,request:function(e){W("request",e)}},Symbol.toStringTag,{value:"Module"}));const Ye=Object.freeze(Object.defineProperty({__proto__:null,uploadFile:function(e){W("uploadFile",e)}},Symbol.toStringTag,{value:"Module"}));const Ze=Object.freeze(Object.defineProperty({__proto__:null,getAccountInfoSync:function(){return W("getAccountInfoSync")}},Symbol.toStringTag,{value:"Module"}));const Ge=Object.freeze(Object.defineProperty({__proto__:null,authorize:function(e){W("authorize",e)}},Symbol.toStringTag,{value:"Module"}));const Ke=Object.freeze(Object.defineProperty({__proto__:null,login:function(e){W("login",e)}},Symbol.toStringTag,{value:"Module"}));const Je=Object.freeze(Object.defineProperty({__proto__:null,login:function(e){W("login",e)}},Symbol.toStringTag,{value:"Module"}));const et=Object.freeze(Object.defineProperty({__proto__:null,getPrivacySetting:function(e){W("getPrivacySetting",e)}},Symbol.toStringTag,{value:"Module"}));const tt=Object.freeze(Object.defineProperty({__proto__:null,getSetting:function(e){W("getSetting",e)},openSetting:function(e){W("openSetting",e)}},Symbol.toStringTag,{value:"Module"}));const nt=Object.freeze(Object.defineProperty({__proto__:null,getUserInfo:function(e){W("getUserInfo",e)}},Symbol.toStringTag,{value:"Module"}));const ot=Object.freeze(Object.defineProperty({__proto__:null,requestPayment:function(e){W("requestPayment",e)}},Symbol.toStringTag,{value:"Module"}));function it(e){e.url=E(U.getPageInfo().route,e.url),W("switchTab",e)}function st(e){e.url=E(U.getPageInfo().route,e.url),W("reLaunch",e)}function rt(e){const t=E(U.getPageInfo().route,e.url);U.getPageInfo().route!==t&&(e.url=t,W("redirectTo",e))}function at(e){e.url=E(U.getPageInfo().route,e.url),W("navigateTo",e)}function ct(e){W("navigateBack",e)}const lt=Object.freeze(Object.defineProperty({__proto__:null,navigateBack:ct,navigateTo:at,reLaunch:st,redirectTo:rt,switchTab:it},Symbol.toStringTag,{value:"Module"}));const ut=Object.freeze(Object.defineProperty({__proto__:null,hideShareMenu:function(e){W("hideShareMenu",e)},showShareImageMenu:function(e){W("showShareImageMenu",e)},showShareMenu:function(e){W("shareShareMenu",e)}},Symbol.toStringTag,{value:"Module"}));const dt=Object.freeze(Object.defineProperty({__proto__:null,clearStorage:function(){W("clearStorage")},clearStorageSync:function(){W("clearStorageSync")},getStorage:function(e){W("getStorage",e)},getStorageInfo:function(e){W("getStorageInfo",e)},getStorageInfoSync:function(...e){return W("getStorageInfoSync",e)},getStorageSync:function(e){return W("getStorageSync",e)},removeStorage:function(e){W("removeStorage",e)},removeStorageSync:function(...e){return W("removeStorageSync",e)},setStorage:function(e){W("setStorage",e)},setStorageSync:function(...e){W("setStorageSync",e)}},Symbol.toStringTag,{value:"Module"}));class ht{constructor({duration:e=400,timingFunction:t="linear",delay:n=0,transformOrigin:o="50% 50% 0"}={}){this.actions=[],this.currentTransform={},this.currentStepAnimates=[],this.option={transition:{duration:e,timingFunction:t,delay:n},transformOrigin:o}}export(){const e=this.actions;return this.actions=[],{actions:e}}step(e={}){for(const t of this.currentStepAnimates)"style"===t.type?this.currentTransform[`${t.type}.${t.args[0]}`]=t:this.currentTransform[t.type]=t;return this.actions.push({animates:Object.keys(this.currentTransform).reduce(((e,t)=>[].concat(...e,[this.currentTransform[t]])),[]),option:{transformOrigin:void 0!==e.transformOrigin?e.transformOrigin:this.option.transformOrigin,transition:{duration:void 0!==e.duration?e.duration:this.option.transition.duration,timingFunction:void 0!==e.timingFunction?e.timingFunction:this.option.transition.timingFunction,delay:void 0!==e.delay?e.delay:this.option.transition.delay}}}),this.currentStepAnimates=[],this}backgroundColor(e){return this.currentStepAnimates.push({type:"style",args:["background-color",e]}),this}bottom(e){return T(e)&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["bottom",e]}),this}height(e){return T(e)&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["height",e]}),this}left(e){return T(e)&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["left",e]}),this}matrix(e=1,t=0,n=0,o=1,i=1,s=1){return this.currentStepAnimates.push({type:"matrix",args:[e,t,n,o,i,s]}),this}matrix3d(e=1,t=0,n=0,o=0,i=0,s=1,r=0,a=0,c=0,l=0,u=1,d=0,h=0,p=0,f=0,g=1){return this.currentStepAnimates.push({type:"matrix3d",args:[e,t,n,o,i,s,r,a,c,l,u,d,h,p,f,g]}),this}opacity(e){return this.currentStepAnimates.push({type:"style",args:["opacity",e]}),this}right(e){return T(e)&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["right",e]}),this}rotate(e=0){return this.currentStepAnimates.push({type:"rotate",args:[e]}),this}rotate3d(e=0,t=0,n=0,o=0){return this.currentStepAnimates.push({type:"rotate3d",args:[e,t,n,o]}),this}rotateX(e){return this.currentStepAnimates.push({type:"rotateX",args:[e]}),this}rotateY(e){return this.currentStepAnimates.push({type:"rotateY",args:[e]}),this}rotateZ(e){return this.currentStepAnimates.push({type:"rotateZ",args:[e]}),this}scale(e=1,t=1){return this.currentStepAnimates.push({type:"scale",args:[e,t]}),this}scale3d(e=1,t=1,n=1){return this.currentStepAnimates.push({type:"scale3d",args:[e,t,n]}),this}scaleX(e=1){return this.currentStepAnimates.push({type:"scaleX",args:[e]}),this}scaleY(e=1){return this.currentStepAnimates.push({type:"scaleY",args:[e]}),this}scaleZ(e=1){return this.currentStepAnimates.push({type:"scaleZ",args:[e]}),this}skew(e=0,t=0){return this.currentStepAnimates.push({type:"skew",args:[e,t]}),this}skewX(e=0){return this.currentStepAnimates.push({type:"skewX",args:[e]}),this}skewY(e=0){return this.currentStepAnimates.push({type:"skewY",args:[e]}),this}top(e){return T(e)&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["top",e]}),this}translate(e=0,t=0){return this.currentStepAnimates.push({type:"translate",args:[e,t]}),this}translate3d(e=0,t=0,n=0){return this.currentStepAnimates.push({type:"translate3d",args:[e,t,n]}),this}translateX(e=0){return this.currentStepAnimates.push({type:"translateX",args:[e]}),this}translateY(e=0){return this.currentStepAnimates.push({type:"translateY",args:[e]}),this}width(e){return T(e)&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["width",e]}),this}}const pt=Object.freeze(Object.defineProperty({__proto__:null,createAnimation:function(e={}){return new ht(e)}},Symbol.toStringTag,{value:"Module"}));const ft=Object.freeze(Object.defineProperty({__proto__:null,setBackgroundColor:function(e){W("setBackgroundColor",e)},setBackgroundTextStyle:function(e){W("setBackgroundTextStyle",e)}},Symbol.toStringTag,{value:"Module"}));let gt=[],_t=null;function yt(){const e=gt;gt=[],_t=null;for(let t=0;t<e.length;t++)e[t]()}const mt=Object.freeze(Object.defineProperty({__proto__:null,nextTick:function(e){C(e)&&(gt.push(e),_t||(_t=setTimeout(yt,0)))}},Symbol.toStringTag,{value:"Module"}));const bt=Object.freeze(Object.defineProperty({__proto__:null,disableAlertBeforeUnload:function(e){W("disableAlertBeforeUnload",e)},enableAlertBeforeUnload:function(e){W("enableAlertBeforeUnload",e)},hideLoading:function(e){W("hideLoading",e)},hideToast:function(e){W("hideToast",e)},showActionSheet:function(e){W("showActionSheet",e)},showLoading:function(e){W("showLoading",e)},showModal:function(e){W("showModal",e)},showToast:function(e){W("showToast",e)}},Symbol.toStringTag,{value:"Module"}));const vt=Object.freeze(Object.defineProperty({__proto__:null,getMenuButtonBoundingClientRect:function(){return globalThis.injectInfo?globalThis.injectInfo.menuRect:W("getMenuButtonBoundingClientRect")}},Symbol.toStringTag,{value:"Module"}));const St=Object.freeze(Object.defineProperty({__proto__:null,hideNavigationBarLoading:function(e){W("hideNavigationBarLoading",e)},setNavigationBarColor:function(e){W("setNavigationBarColor",e)},setNavigationBarTitle:function(e){W("setNavigationBarTitle",e)},showNavigationBarLoading:function(e){W("showNavigationBarLoading",e)}},Symbol.toStringTag,{value:"Module"}));const It=Object.freeze(Object.defineProperty({__proto__:null,startPullDownRefresh:function(e){W("startPullDownRefresh",e)},stopPullDownRefresh:function(e){W("stopPullDownRefresh",e)}},Symbol.toStringTag,{value:"Module"}));const jt=Object.freeze(Object.defineProperty({__proto__:null,pageScrollTo:function(e){W("pageScrollTo",e)}},Symbol.toStringTag,{value:"Module"}));const wt=Object.freeze(Object.defineProperty({__proto__:null,onWindowResize:function(e){e&&W("onWindowResize",{success:e})}},Symbol.toStringTag,{value:"Module"}));class Ot{constructor(e,t){this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1}relativeTo(e,t={left:0,right:0,top:0,bottom:0}){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:e,margins:["left","right","top","bottom"].map((e=>`${void 0===t[e]?0:t[e]}px`)).join(" ")}),this}relativeToViewport(e={left:0,right:0,top:0,bottom:0}){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:null,margins:["left","right","top","bottom"].map((t=>`${void 0===e[t]?0:e[t]}px`)).join(" ")}),this}observe(e,t){const n=this,o=D.store((e=>{n._disconnected||(n._observerId=e.observerId),e.info&&t.call(n,e.info)}),!0);W("addIntersectionObserver",{moduleId:this._component.__id__,targetSelector:e,relativeInfo:this._relativeInfo,options:this._options,success:o},"render")}disconnect(){W("removeIntersectionObserver",{observerId:this._observerId},"render"),this._disconnected=!0}}const Mt=Object.freeze(Object.defineProperty({__proto__:null,createIntersectionObserver:function(e,t={}){const{thresholds:n=[0],initialRatio:o=0,observeAll:i=!1}=t;return new Ot(e,{thresholds:n,initialRatio:o,observeAll:i})}},Symbol.toStringTag,{value:"Module"})),Ct=Object.assign({"./core/base/app-event/index.js":H,"./core/base/index.js":Q,"./core/base/performance/index.js":Y,"./core/base/subpackage/index.js":Z,"./core/base/system/index.js":G,"./core/base/update/index.js":ee,"./core/camera/index.js":ne,"./core/data-analysis/index.js":oe,"./core/device/bluetooth-ble/index.js":ie,"./core/device/bluetooth/index.js":se,"./core/device/clipboard/index.js":re,"./core/device/contact/index.js":ae,"./core/device/keyboard/index.js":ce,"./core/device/memory/index.js":le,"./core/device/network/index.js":ue,"./core/device/phone/index.js":de,"./core/device/scan/index.js":he,"./core/device/vibrate/index.js":pe,"./core/ext/index.js":fe,"./core/life-cycle/index.js":Fe,"./core/location/index.js":Ne,"./core/map/index.js":He,"./core/media/image/index.js":Qe,"./core/media/video/index.js":qe,"./core/navigate/index.js":$e,"./core/network/download/index.js":Ve,"./core/network/request/index.js":Xe,"./core/network/upload/index.js":Ye,"./core/open-api/account-info/index.js":Ze,"./core/open-api/authorize/index.js":Ge,"./core/open-api/index.js":Ke,"./core/open-api/login/index.js":Je,"./core/open-api/privacy/index.js":et,"./core/open-api/setting/index.js":tt,"./core/open-api/user-info/index.js":nt,"./core/payment/index.js":ot,"./core/route/index.js":lt,"./core/share/index.js":ut,"./core/storage/index.js":dt,"./core/ui/animation/index.js":pt,"./core/ui/background/index.js":ft,"./core/ui/custom-component/index.js":mt,"./core/ui/interaction/index.js":bt,"./core/ui/menu/index.js":vt,"./core/ui/navigation-bar/index.js":St,"./core/ui/pull-down-refresh/index.js":It,"./core/ui/scroll/index.js":jt,"./core/ui/window/index.js":wt,"./core/wxml/intersection-observer/index.js":Mt,"./core/wxml/selector-query/index.js":ke}),Tt={};for(const Pt of Object.values(Ct))for(const[e,t]of Object.entries(Pt))Tt[e]=t;const kt=new Proxy(Tt,{get(e,t,n){const o=Reflect.get(e,t,n);return(...e)=>"function"==typeof o?o(...e):W(t,...e)}});const xt=new class{constructor(){this.init()}init(){globalThis.dd=globalThis.wx=kt,globalThis.modRequire=z,globalThis.modDefine=R,globalThis.App=e=>De.createAppModule(e),globalThis.Page=e=>{De.createModule(e,globalThis.__extraInfo,Re.type)},globalThis.Component=e=>{De.createModule(e,globalThis.__extraInfo,Be.type)},globalThis.Behavior=e=>e,globalThis.getApp=()=>{var e;return null==(e=De.getAppModule())?void 0:e.moduleInfo},globalThis.getCurrentPages=()=>U.stack()}},At={navigateBack:ct,navigateTo:at,reLaunch:st,redirectTo:rt,switchTab:it};return new class{constructor(){this.env=xt,this.message=N,this.init()}init(){this.message.on("loadResource",(e=>{const{appId:t,bridgeId:n,pagePath:o,root:i=".",injectInfo:s}=e;globalThis.injectInfo=s,De.loadResource({appId:t,bridgeId:n,pagePath:o,root:i})})),this.message.on("t",(async e=>{const{bridgeId:t,moduleId:n,methodName:o,event:i,success:s}=e;if(void 0===o)return;const r=await Ue.triggerEvent({bridgeId:t,moduleId:n,methodName:o,event:i});void 0!==r&&this.message.send({type:"triggerCallback",target:"render",body:{bridgeId:t,moduleId:n,success:s,data:r}})})),this.message.on("triggerCallback",(e=>{const{id:t,args:n}=e;D.invoke(t,n)})),this.onAppMsg(),this.onModuleMsg()}onAppMsg(){this.message.on("resourceLoaded",(e=>{const{bridgeId:t,scene:n,pagePath:o,query:i,stackId:s}=e;Ue.createApp({scene:n,pagePath:o,query:i});const r=De.getModuleByPath(o);if(!r)return;const a=De.getPropsByPath(r.usingComponents),c=`page_${A()}`;Ue.createInstance({bridgeId:t,moduleId:c,path:o,query:i,stackId:s}),N.send({type:"firstRender",target:"render",body:{bridgeId:t,pageId:c,pagePath:o,initialProps:a,query:i}})})),this.message.on("appShow",(()=>{Ue.appShow()})),this.message.on("appHide",(()=>{Ue.appHide()})),this.message.on("stackShow",(({stackId:e})=>{Ue.stackShow(e)})),this.message.on("stackHide",(({stackId:e})=>{Ue.stackHide(e)}))}onModuleMsg(){this.message.on("mC",(e=>{Ue.createInstance(e)})),this.message.on("mR",(e=>{Ue.moduleReady(e)})),this.message.on("mU",(e=>{Ue.moduleUnmounted(e)})),this.message.on("pageUnload",(e=>{Ue.pageUnload(e)})),this.message.on("pageShow",(e=>{Ue.pageShow(e)})),this.message.on("pageReady",(e=>{Ue.pageReady(e)})),this.message.on("pageHide",(e=>{Ue.pageHide(e)})),this.message.on("pagePullDownRefresh",(()=>{})),this.message.on("pageReachBottom",(()=>{})),this.message.on("pageShareAppMessage",(()=>{})),this.message.on("pageScroll",(e=>{Ue.pageScroll(e)})),this.message.on("pageResize",(e=>{Ue.pageResize(e)})),this.message.on("onTabItemTap",(()=>{})),this.message.on("pageRouteDone",(e=>{const{bridgeId:t}=e;Ue.componentRouteDone({bridgeId:t})})),this.message.on("componentError",(e=>{Ue.componentError(e)})),this.message.on("h5SdkAction",(async(e={})=>{var t,n,o,i,s,r,a,c,l;const u=null==(t=null==e?void 0:e.name)?void 0:t.replace(/h5/i,""),{url:d}=(null==(o=null==(n=null==e?void 0:e.params)?void 0:n.data)?void 0:o.params)||{};if(e.params&&(e.params.data={...null==(i=e.params)?void 0:i.data,...(null==(r=null==(s=e.params)?void 0:s.data)?void 0:r.params)||{}}),"postMessage"===u&&e.parentWebViewId){const{moduleId:t,attrs:n,params:o}=e,i={detail:{data:[null==(c=null==(a=null==o?void 0:o.data)?void 0:a.params)?void 0:c.data]}},s=n.message,r=e.parentWebViewId,l=await Ue.triggerEvent({bridgeId:r,moduleId:t,methodName:s,event:i});void 0!==l&&this.message.send({type:"triggerCallback",target:"service",body:{bridgeId:r,moduleId:t,success:null==o?void 0:o.success,data:l}})}null==(l=At[u])||l.call(At,{url:d,...e.params})}))}}}();
